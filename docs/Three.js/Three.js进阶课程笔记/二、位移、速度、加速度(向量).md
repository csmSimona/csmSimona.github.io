# 二、位移、速度、加速度(向量)

### <font style="color:rgb(0, 50, 60);">1、匀速动画(向量表示速度)</font>
```javascript
const v = new THREE.Vector3(10,0,10);//物体运动速度
const clock = new THREE.Clock();//时钟对象
// 渲染循环
function render() {
    const spt = clock.getDelta();//两帧渲染时间间隔(秒)
    // 在spt时间内，以速度v运动的位移量
    const dis = v.clone().multiplyScalar(spt);
    // 网格模型当前的位置加上spt时间段内运动的位移量
    mesh.position.add(dis);
    renderer.render(scene, camera);
    requestAnimationFrame(render);
}
render();
```



### <font style="color:rgb(0, 50, 60);">2、物体下落动画(重力加速度)</font>
<font style="color:rgb(0, 50, 60);">一个物体抛出去落在地面的动画效果</font>

#### <font style="color:rgb(0, 50, 60);">已知条件</font>
```javascript
// 物体初始位置
mesh.position.set(0,100,0);
```

```javascript
//物体初始速度
const v = new THREE.Vector3(30,0,0);
```

<font style="color:rgb(0, 50, 60);">重力加速度是y轴的负方向</font>

```javascript
//重力加速度
const g = new THREE.Vector3(0, -9.8, 0);
```



#### <font style="color:rgb(0, 50, 60);">速度 x 间隔时间，然后累加计算位移</font>

- 速度`v` = 加速度`g` x 时间`t`
- 位移`x` = 速度`v` x 时间`t`

<font style="color:rgb(0, 50, 60);">重力加速度乘以每次渲染时间，与原来的速度累加，可以更新当前的速度。</font>

<font style="color:rgb(0, 50, 60);">位移写法和上节课类似，就是当前速度乘以每次渲染时间，累加即可。</font>

```javascript
const v = new THREE.Vector3(30, 0, 0);//物体初始速度
const clock = new THREE.Clock();//时钟对象
const g = new THREE.Vector3(0, -9.8, 0);
// 渲染循环
function render() {
  if (mesh.position.y > 0) {
    const spt = clock.getDelta();//两帧渲染时间间隔(秒)
    //spV:重力加速度在时间spt内对速度的改变
    const spV = g.clone().multiplyScalar(spt);
    v.add(spV);//v = v + spV  更新当前速度
    // 在spt时间内，以速度v运动的位移量
    const dis = v.clone().multiplyScalar(spt);
    // 网格模型当前的位置加上spt时间段内运动的位移量
    mesh.position.add(dis);
  }
  renderer.render(scene, camera);
  requestAnimationFrame(render);
}
render();
```















